<!doctype html>
<html>
    <head>
        <script src="../object_spp.js"></script>
        <script type="text/javascript">
// Main class
class Class {}
// setter of protected property
Class.prototype.getA = function() {
	return this.a;
};
// getter of protected property
Class.prototype.setA = function(v) {
	this.a = v;
};
// define protected property
Object_setProtectedProperty(Class,'a');

// Sub Class and his object
class SubClass extends Class{}
var object = new SubClass();


console.log(object); // -> {} (SubClass)
console.log(object.a); // -> undefined
console.log(object.getA()); // -> undefined

console.info('set property');
object.setA(1); // will set _a property to 1
console.log(object.getA()); // -> 1
console.log(object.a); // -> undefined
console.log(object); // -> {_a:1}
console.log(object._a); // -> 1

console.info('try to change property');
object._a = 2; // will be ignored
console.log(object._a); // -> 1
console.log(object.a); // -> undefined
console.log(object.getA()); // -> 1
object.a = 2; // will be ignored
console.log(object._a); // -> 1
console.log(object.a); // -> undefined
console.log(object.getA()); // -> 1

console.info('update property');
object.setA(3); // will set _a property to 3
console.log(object.getA()); // -> 3
console.log(object.a); // -> undefined
console.log(object); // -> {_a:3}
console.log(object._a); // -> 3

        </script>>
    </head>
    <body>
    </body>
</html>